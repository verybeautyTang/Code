<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
清除缓存：
<a href="javascript:alert('清除成功');">
  清除缓存
</a>
</body>
<script>
  // 评分组件一句话:"★★★★★☆☆☆☆☆".slice(5 - rate, 10 - rate)
  var rate = 1
  let item = "★★★★★☆☆☆☆☆".slice(5 - rate, 10 - rate);
  console.log(item);
  var rate = 2
  let item1 = "★★★★★☆☆☆☆☆".slice(5 - rate, 10 - rate);
  console.log(item1);
  var rate = 3
  let item2 = "★★★★★☆☆☆☆☆".slice(5 - rate, 10 - rate);
  console.log(item2);
  var rate = 4
  let item3 = "★★★★★☆☆☆☆☆".slice(5 - rate, 10 - rate);
  console.log(item3);
  var rate = 5
  let item4 = "★★★★★☆☆☆☆☆".slice(5 - rate, 10 - rate);
  console.log(item4);

  // 如何装逼用代码骂别人SB:(!(~+[])+{})[--[~+""][+[]] * [~+[]] +~~!+[]]+({} + [])[[~!+[]] * ~+[]]
  console.log((!(~+[]) + {})[--[~+""][+[]] * [~+[]] + ~~!+[]] + ({} + [])[[~!+[]] * ~+[]]);

  // 如何用代码优雅的证明自己NB:([][[]]+[])[+!![]]+([]+{})[!+[]+!![]]
  console.log(([][[]] + [])[+!![]] + ([] + {})[!+[] + !![]]);

  // js处理错误的方式
  try {
    // something
  }
  catch (e) {
    window.location.href = "http://stackoverflow.com/search?q=[js]+" + e.message;
  }

  // 声明undefined
  var data = void 0;

  // 10、论如何优雅的取整
  var a = ~~2.33
  var b = 3.33 | 0
  var c = 4.33 >> 0
  console.log(a);
  console.log(b);
  console.log(c);

  // 如何优雅的实现金钱格式化：1234567890 --> 1,234,567,890
  // 用正则魔法实现
  var test1 = '1234567890'
  var format = test1.replace(/\B(?=(\d{3})+(?!\d))/g, ',')
  console.log(format)// 1,234,567,890

  // 非正则的优雅实现：
    function formatCash(str) {
      return str.split('').reverse().reduce((prev,next,index) => {
        return((index%3)?next :(next+','))+prev})
    }
    console.log(formatCash('1234567890'))

    //无法关掉的alert
    // while(1) {
    //     alert('牛逼你把我关了啊')
    //   }

    // 逗号运算符
    let aa = 0
    let bb = (aa++,99)
    console.log('aa:' + aa);
    console.log('bb:' + bb);


    // 论如何最佳的让两个整数交换数值(C语言的位操作)
    aa ^= bb
    bb ^= aa
    aa ^= bb
    console.log('aa:'+aa);
    console.log('bb:' +bb);

    // 实现标准JSON的深拷贝
    var type = {
      type:1,
      data:{q:1,p:2}
    }
    var data = JSON.parse(JSON.stringify(type))
    data.ii = 'eee'
    console.log(data);

    // 不用Number、parseInt和parseFloat和方法把"1"字符串转换成数字
    var stringNumber = '2'
    console.log(+stringNumber);
    console.log(typeof (stringNumber));
    console.log(typeof(+stringNumber));

    // parseInt(0.0000008) === 8

    console.log(parseInt(0.0000008) === 8);

    // ++[[]][+[]]+[+[]] == 10
    console.log(++[[]][+[]] + [+[]] == 10);

    // 0.1 + 0.2 == 0.3
    //  0.1和 0.2的二进制浮点表示都不是精确的，所以相加后不是 0.3，接近（不等于） 0.30000000000000004。
    console.log(0.1 + 0.2 == 0.3);

    // 最短的代码实现数组去重
    const data1 =[1,1,2,3,5,6,7,'1','2']
    console.log(new Set(data1));

    // 用最短的代码实现一个长度为m(6)且值都n(8)的数组
    // Array(6).fill(8)
    console.log(Array(6).fill(8))

    // 短路表达式
    let yy =2
    var xx = yy & 1
    // 相当于
    if (yy) {
      xx = 1
    } else {
      xx = yy
    }

    var xx = yy || 1
    // 相当于
    if (yy) {
      xx = yy
    } else {
      xx = 1
    }

    //取出一个数组中的最大值和最小值
    
    var numbers = [5, 458, 120, -215, 228, 400, 122205, -85411];
    var maxInNumbers = Math.max.apply(Math, numbers);
    var minInNumbers = Math.min.apply(Math, numbers);
    console.log(maxInNumbers);
    console.log(minInNumbers);

    // 将argruments对象转换成数组
    // var arrArray = Array.from(arguments) // 这是ES6语法
    // var splitArray = Array.prototype.slice.call(arguments) //这是js语法


    // javascript高逼格之Function构造函数
    var f = new Function ('a','alert(a)')
    f('hello world')

    // 从一个数组中找到一个数，O(n)的算法，找不到就返回 null。
    
</script>

</html>